---
title: 基础算法一之扫描线
published: false
layout: post
author: 陈家辉
tags:
- 数据结构
- 算法
- 基础
- 古城算法
---

# 参考

[古城算法ppt](https://docs.google.com/presentation/d/1RGF03Syyw2rhU7MojUWT3G-ejw8NFHEANbgnY2AuDEo/edit#slide=id.g885522199d_0_5)

# 是什么

拿数飞机举例思路一，暴力扫描遍历每个时刻，检测每个时刻有多少个飞机思路二，扫描线！不需要检测每一时刻，只需要检测起点或者终点的位置！（交点变化的位置只有起点或者终点）



# 习题

[391 数飞机](https://www.lintcode.com/problem/391/description)

![image-20230806194312505](https://cdn.jsdelivr.net/gh/Chenjiahui0/picture@main/202308061943567.png)

```java
public class Solution {
    /**
     * @param airplanes: An interval array
     * @return: Count of airplanes are in the sky.
     */
    public int countOfAirplanes(List<Interval> airplanes) {
        List<Time> times = new ArrayList<>();
        for(Interval i:airplanes){
            times.add(new Time(i.start,1));
            times.add(new Time(i.end,-1));
        }
        Collections.sort(times,(x,y)->{
            // 降落优先于起飞
            if(x.time==y.time) return x.val-y.val;
            return x.time-y.time;
        });
        int ans = 0;
        int cnt = 0;
        for(Time t:times){
            cnt += t.val;
            ans = Math.max(cnt,ans);
        }
        return ans;
    }
}
class Time{
    int time;
    int val;
    public Time(int time,int val){
        this.time = time;
        this.val = val;
    }
}
```

